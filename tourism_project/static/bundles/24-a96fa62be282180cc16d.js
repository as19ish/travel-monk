(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{118:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=s(a(0));a(270);var r=s(a(17)),o=a(12),i=s(a(18));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!1,name:"",category:"",rating:"",description:"",file:"",imagePreviewUrl:"",track_details:[],track_selected:[]},a.name_handleChange=a.name_handleChange.bind(a),a.category_handleChange=a.category_handleChange.bind(a),a.description_handleChange=a.description_handleChange.bind(a),a._handleImageChange=a._handleImageChange.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentDidMount",value:function(){var e=this;r.default.get("/get_track_id_name/").then((function(t){e.setState({track_details:t.data.result})}))}},{key:"name_handleChange",value:function(e){this.setState({name:e.target.value})}},{key:"category_handleChange",value:function(e){this.setState({category:e.target.value})}},{key:"description_handleChange",value:function(e){if(e.target.value.length>=701){var t="You Entered "+e.target.value.length+" Characters, ";alert(t+"Only 700 Characters Are Allowed In Review Description..")}else this.setState({description:e.target.value})}},{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault();var a=new FileReader,n=e.target.files[0];a.onloadend=function(){t.setState({file:n,imagePreviewUrl:a.result})},a.readAsDataURL(n)}},{key:"handleSubmit",value:function(e){var t=this,a=!0;for(var n in this.state)"loading"==n||""==this.state[n]&&(a=!1);if(0==a){alert(" All Fields Are Required"),e.preventDefault()}if(1==a){var l=new FormData;l.append("image",this.state.file),l.append("name",this.state.name),l.append("category",this.state.category),l.append("description",this.state.description),l.append("track_id",this.state.track_selected[0].id),l.append("track_name",this.state.track_selected[0].track_name),l.append("rating",this.state.rating);this.setState({loading:!0}),(0,r.default)({method:"post",url:"/submit_review/",data:l}).then((function(e){document.getElementById("success_message").style.display="block",window.setTimeout((function(){(0,i.default)(".alert").fadeTo(500,0).slideUp(500,(function(){(0,i.default)(".alert").fadeTo(500,1),document.getElementById("success_message").style.display="none"}))}),500),t.setState({loading:!1,name:"",category:"",rating:"",description:"",file:"",imagePreviewUrl:""})})).catch((function(e){})),e.preventDefault()}}},{key:"render",value:function(){for(var e=this,t=[],a=function(a){var n=[e.state.track_details[a]];t.push(l.default.createElement(o.Dropdown.Item,{eventKey:n.id,onSelect:function(t){e.setState({track_selected:[e.state.track_details[a]]})}},l.default.createElement("span",{style:{textTransform:"capitalize"}},n[0].track_name)))},n=0;n<this.state.track_details.length;n++)a(n);var r=[],i=function(t){r.push(l.default.createElement(o.Dropdown.Item,{eventKey:t,onSelect:function(){e.setState({rating:t})}},t))};for(n=1;n<=5;n++)i(n);var s=this.state.imagePreviewUrl,d=null;return d=s?l.default.createElement(o.Image,{thumbnail:!0,roundedCircle:!0,variant:"top",src:s,style:{height:"300px",width:"300px"}}):l.default.createElement(o.Image,{thumbnail:!0,roundedCircle:!0,variant:"top",style:{height:"300px",width:"300px"}}),l.default.createElement("div",null,l.default.createElement(o.Form,{onSubmit:this.handleSubmit,style:{padding:"2% 5%"}},l.default.createElement("legend",{style:{textTransform:"uppercase"}},"Review Form"),l.default.createElement(o.Container,{fluid:!0,style:{padding:"4%",background:"whitesmoke",borderRadius:"50px"}},l.default.createElement(o.Row,null,l.default.createElement(o.Col,{style:{textAlign:"center"}},l.default.createElement("p",{style:{display:"inline",fontSize:"1.1rem"}},"We ",l.default.createElement("b",null,"MOUNTAINS-ROVER")," appreciate your reviews and work on accordingly to improve our services."))),l.default.createElement("br",null),l.default.createElement("br",null),l.default.createElement(o.Row,null,l.default.createElement(o.Col,null,l.default.createElement(o.Form.Group,{controlId:"exampleForm.ControlInput1",style:{textAlign:"left"}},l.default.createElement(o.Form.Label,{className:"label_style"},"1. Your Name"),l.default.createElement("br",null),l.default.createElement(o.Form.Control,{type:"text",value:this.state.name,onChange:this.name_handleChange,className:"width_50_in_large",style:{width:"30%"}})),l.default.createElement(o.Form.Group,{controlId:"exampleForm.ControlInput2",style:{textAlign:"left"}},l.default.createElement(o.Form.Label,{className:"label_style"},"2. Select Trek You Liked Most"),l.default.createElement("br",null),l.default.createElement(o.Dropdown,{as:"Primary"},l.default.createElement(o.Button,{variant:"info",className:"width_50_in_large",style:{textTransform:"uppercase",width:"30%"}},0!=this.state.track_selected.length?this.state.track_selected[0].track_name:"Select Trek"),l.default.createElement(o.Dropdown.Toggle,{split:!0,variant:"success",id:"dropdown-custom-2"}),l.default.createElement(o.Dropdown.Menu,{style:{maxHeight:"400px",overflow:"scroll"}},t))),l.default.createElement(o.Form.Group,{controlId:"exampleForm.ControlInput1",style:{textAlign:"left"}},l.default.createElement(o.Form.Label,{className:"label_style"},"3. Enter Service You Liked The Most (eg: FOOD, GUIDE etc.)"),l.default.createElement("br",null),l.default.createElement(o.Form.Control,{type:"text",value:this.state.category,onChange:this.category_handleChange,className:"width_50_in_large",style:{width:"30%"}})),l.default.createElement(o.Form.Group,{controlId:"exampleForm.ControlInput3",style:{textAlign:"left"}},l.default.createElement(o.Form.Label,{className:"label_style"},"4. Rate ",l.default.createElement("b",null,"Hike2Heaven")," Out Of 5"),l.default.createElement("br",null),l.default.createElement(o.Dropdown,{as:"Primary"},l.default.createElement(o.Button,{variant:"info",className:"width_50_in_large",style:{textTransform:"uppercase",width:"30%"}},""!=this.state.rating?this.state.rating:"Select Rating"),l.default.createElement(o.Dropdown.Toggle,{split:!0,variant:"success",id:"dropdown-custom-2"}),l.default.createElement(o.Dropdown.Menu,null,r))),l.default.createElement(o.Form.Group,{controlId:"exampleForm.ControlInput3",style:{textAlign:"left"}},l.default.createElement(o.Form.Label,{className:"label_style"},"5. Add Review Description (Limit 200 character)"),l.default.createElement("br",null),l.default.createElement(o.Form.Control,{as:"textarea",rows:"3",value:this.state.description,onChange:this.description_handleChange,className:"width_50_in_large"}))),l.default.createElement(o.Col,null,l.default.createElement(o.Form.Group,{controlId:"exampleForm.ControlInput3",style:{textAlign:"left"}},l.default.createElement(o.Row,null,l.default.createElement(o.Col,null,l.default.createElement("h5",{style:{marginTop:"10%"}},"6. Upload Your Photo"),l.default.createElement("input",{type:"file",onChange:function(t){return e._handleImageChange(t)}})),l.default.createElement(o.Col,null,l.default.createElement("div",{style:{width:"100%",textAlign:"center"}},d)))))),l.default.createElement(o.Row,null,l.default.createElement(o.Col,null,l.default.createElement("div",{id:"success_message",className:"alert alert-success",role:"alert",style:{display:"none",borderRadius:"15px"}},l.default.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},l.default.createElement("span",{"aria-hidden":"true"},"Ã—")),l.default.createElement("div",{className:"form_success_msg"},l.default.createElement("strong",null,"Success!")),l.default.createElement("div",{className:"form_success_msg"},l.default.createElement("p",null,"Thank-You. Your Review Means A Lot To Us."))),l.default.createElement("div",{style:{textAlign:"center"}},l.default.createElement(o.Button,{variant:"success",type:"submit",disabled:this.state.loading},this.state.loading?"In Process..":"Submit")))))))}}]),t}(l.default.Component);t.default=d},182:function(e,t,a){(t=a(7)(!1)).push([e.i,".label_style\r\n{\r\nfont-weight:600;\r\n font-size:1.1rem;\r\n}\r\n.width_50_in_large\r\n{\r\ndisplay:inline;\r\n width:50%;\r\n}\r\n\r\n@media screen and (max-width: 700px) {\r\n.width_50_in_large\r\n{\r\n width:100%;\r\n}\r\n }\r\n\r\n.imgPreview1 {\r\n  text-align: center;\r\n  margin: 5px 15px;\r\n  height: 200px;\r\n  width: 50%;\r\n  border-left: 1px solid #808080;\r\n  border-right: 1px solid #808080;\r\n  border-top: 5px solid #808080;\r\n  border-bottom: 5px solid #808080;\r\n}\r\n.imgPreview1 img {\r\n  width: 100%;\r\n  height: 100%;\r\n}",""]),e.exports=t},270:function(e,t,a){var n=a(6),l=a(182);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r={insert:"head",singleton:!1},o=n(l,r),i=l.locals?l.locals:{};l.locals||e.hot.accept(182,(function(){var t=a(182);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=i}}]);