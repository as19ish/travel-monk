(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{120:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),n=s(a(0));a(272);var r=s(a(17)),i=a(12),o=s(a(18));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={loading:!1,name:"",description:"",file:"",file1:"",imagePreviewUrl:"",imagePreviewUrl1:"",track_details:[],track_selected:[]},a.name_handleChange=a.name_handleChange.bind(a),a.description_handleChange=a.description_handleChange.bind(a),a._handleImageChange=a._handleImageChange.bind(a),a._handleImageChange1=a._handleImageChange1.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;r.default.get("/get_track_id_name/").then((function(t){e.setState({track_details:t.data.result})}))}},{key:"name_handleChange",value:function(e){this.setState({name:e.target.value})}},{key:"description_handleChange",value:function(e){if(e.target.value.length>=5001){var t="You Entered "+e.target.value.length+" Characters, ";alert(t+"Only 5000 Characters Are Allowed In Review Description..")}else this.setState({description:e.target.value})}},{key:"_handleImageChange",value:function(e){var t=this;e.preventDefault();var a=new FileReader,l=e.target.files[0];l.size>2097152?(alert("File size exceeded limit 2 MB."),this.setState({file:""})):this.setState({file:l}),a.onloadend=function(){t.setState({imagePreviewUrl:a.result})},a.readAsDataURL(l)}},{key:"_handleImageChange1",value:function(e){var t=this;e.preventDefault();var a=new FileReader,l=e.target.files[0];l.size>2097152?(alert("File size exceeded limit 2 MB."),this.setState({file1:""})):this.setState({file1:l}),a.onloadend=function(){t.setState({imagePreviewUrl1:a.result})},a.readAsDataURL(l)}},{key:"handleSubmit",value:function(e){var t=this,a=!0;for(var l in this.state)"loading"==l||""==this.state[l]&&(a=!1);if(0==a){alert(" All Fields Are Required"),e.preventDefault()}if(1==a){var n=new FormData;n.append("profile_image",this.state.file),n.append("trek_image",this.state.file1),n.append("name",this.state.name),n.append("description",this.state.description),n.append("track_id",this.state.track_selected[0].id),n.append("track_name",this.state.track_selected[0].track_name);this.setState({loading:!0}),(0,r.default)({method:"post",url:"/submit_trekker_story/",data:n}).then((function(e){document.getElementById("success_message").style.display="block",window.setTimeout((function(){(0,o.default)(".alert").fadeTo(500,0).slideUp(500,(function(){(0,o.default)(".alert").fadeTo(500,1),document.getElementById("success_message").style.display="none"}))}),500),t.setState({loading:!1,name:"",description:"",file:"",file1:"",imagePreviewUrl:"",imagePreviewUrl1:""})})).catch((function(e){})),e.preventDefault()}}},{key:"render",value:function(){var e=this;console.log("state = ",this.state);var t={color:""==this.state.file?"red":"black",fontSize:"16px"},a={color:""==this.state.file1?"red":"black",fontSize:"16px"};console.log("color1 = ",t),console.log("color2 = ",a);for(var l=[],r=function(t){var a=[e.state.track_details[t]];l.push(n.default.createElement(i.Dropdown.Item,{eventKey:a.id,onSelect:function(a){e.setState({track_selected:[e.state.track_details[t]]})}},n.default.createElement("span",{style:{textTransform:"capitalize"}},a[0].track_name)))},o=0;o<this.state.track_details.length;o++)r(o);var s=this.state.imagePreviewUrl,d=null;d=s?n.default.createElement(i.Image,{thumbnail:!0,roundedCircle:!0,variant:"top",src:s,style:{height:"200px",width:"200px"}}):n.default.createElement(i.Image,{thumbnail:!0,roundedCircle:!0,variant:"top",style:{height:"200px",width:"200px"}});var u=this.state.imagePreviewUrl1,c=null;return c=u?n.default.createElement(i.Image,{thumbnail:!0,variant:"top",src:u,style:{height:"300px",width:"300px"}}):n.default.createElement(i.Image,{thumbnail:!0,variant:"top",style:{height:"300px",width:"300px"}}),n.default.createElement("div",null,n.default.createElement(i.Form,{onSubmit:this.handleSubmit,style:{padding:"2% 5%"}},n.default.createElement("legend",{style:{textTransform:"uppercase"}},"Trekker Story Form"),n.default.createElement(i.Container,{fluid:!0,style:{padding:"4%",background:"whitesmoke",borderRadius:"50px"}},n.default.createElement(i.Row,null,n.default.createElement(i.Col,{style:{textAlign:"center"}},n.default.createElement("p",{style:{display:"inline",fontSize:"1.1rem"}},"We ",n.default.createElement("b",null,"MOUNTAINS-ROVER")," Welcome You , Please Share Your Experience Here."))),n.default.createElement("br",null),n.default.createElement("br",null),n.default.createElement(i.Row,null,n.default.createElement(i.Col,null,n.default.createElement(i.Form.Group,{controlId:"exampleForm.ControlInput1",style:{textAlign:"left"}},n.default.createElement(i.Form.Label,{className:"label_style"},"1. Your Name"),n.default.createElement("br",null),n.default.createElement(i.Form.Control,{type:"text",value:this.state.name,onChange:this.name_handleChange,className:"width_50_in_large",style:{width:"30%"}})),n.default.createElement(i.Form.Group,{controlId:"exampleForm.ControlInput2",style:{textAlign:"left"}},n.default.createElement(i.Form.Label,{className:"label_style"},"2. Select Trek"),n.default.createElement("br",null),n.default.createElement(i.Dropdown,{as:"Primary"},n.default.createElement(i.Button,{variant:"info",className:"width_50_in_large",style:{textTransform:"uppercase",width:"30%"}},0!=this.state.track_selected.length?this.state.track_selected[0].track_name:"Select Trek"),n.default.createElement(i.Dropdown.Toggle,{split:!0,variant:"success",id:"dropdown-custom-2"}),n.default.createElement(i.Dropdown.Menu,{style:{maxHeight:"400px",overflow:"scroll"}},l))),n.default.createElement(i.Form.Group,{controlId:"exampleForm.ControlInput3",style:{textAlign:"left"}},n.default.createElement(i.Form.Label,{className:"label_style"},"3. Add Trek Story Description (Limit 200 character)"),n.default.createElement("br",null),n.default.createElement(i.Form.Control,{as:"textarea",rows:"10",cols:"15",value:this.state.description,onChange:this.description_handleChange,style:{width:"100%"}}))),n.default.createElement(i.Col,null,n.default.createElement(i.Form.Group,{controlId:"exampleForm.ControlInput3",style:{textAlign:"left"}},n.default.createElement(i.Row,null,n.default.createElement(i.Col,{xs:12,sm:12,md:12,lg:6},n.default.createElement("h5",{style:{marginTop:"10%"}},"4. Upload Your Profile Photo (",n.default.createElement("span",{style:t},"size limit 2 MB"),")"),n.default.createElement("input",{type:"file",onChange:function(t){return e._handleImageChange(t)}})),n.default.createElement(i.Col,{xs:12,sm:12,md:12,lg:6},n.default.createElement("div",{style:{width:"100%",textAlign:"center"}},d)))),n.default.createElement(i.Form.Group,{controlId:"exampleForm.ControlInput1",style:{textAlign:"left"}},n.default.createElement(i.Row,null,n.default.createElement(i.Col,{xs:12,sm:12,md:12,lg:6},n.default.createElement("h5",{style:{marginTop:"10%"}},"5. Upload Your Trek Photo (",n.default.createElement("span",{style:a},"size limit 2 MB"),")"),n.default.createElement("input",{type:"file",onChange:function(t){return e._handleImageChange1(t)}})),n.default.createElement(i.Col,{xs:12,sm:12,md:12,lg:6},n.default.createElement("div",{style:{width:"100%",textAlign:"center"}},c)))))),n.default.createElement(i.Row,null,n.default.createElement(i.Col,null,n.default.createElement("div",{id:"success_message",className:"alert alert-success",role:"alert",style:{display:"none",borderRadius:"15px"}},n.default.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},n.default.createElement("span",{"aria-hidden":"true"},"Ã—")),n.default.createElement("div",{className:"form_success_msg"},n.default.createElement("strong",null,"Success!")),n.default.createElement("div",{className:"form_success_msg"},n.default.createElement("p",null,"Thank-You. Your Review Means A Lot To Us."))),n.default.createElement("div",{style:{textAlign:"center"}},n.default.createElement(i.Button,{variant:"success",type:"submit",disabled:this.state.loading},this.state.loading?"In Process..":"Submit")))))))}}]),t}(n.default.Component);t.default=d},184:function(e,t,a){(t=a(7)(!1)).push([e.i,".label_style\r\n{\r\nfont-weight:600;\r\n font-size:1.1rem;\r\n}\r\n.width_50_in_large\r\n{\r\ndisplay:inline;\r\n width:50%;\r\n}\r\n\r\n@media screen and (max-width: 700px) {\r\n.width_50_in_large\r\n{\r\n width:100%;\r\n}\r\n }\r\n\r\n.imgPreview1 {\r\n  text-align: center;\r\n  margin: 5px 15px;\r\n  height: 200px;\r\n  width: 50%;\r\n  border-left: 1px solid #808080;\r\n  border-right: 1px solid #808080;\r\n  border-top: 5px solid #808080;\r\n  border-bottom: 5px solid #808080;\r\n}\r\n.imgPreview1 img {\r\n  width: 100%;\r\n  height: 100%;\r\n}",""]),e.exports=t},272:function(e,t,a){var l=a(6),n=a(184);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},i=l(n,r),o=n.locals?n.locals:{};n.locals||e.hot.accept(184,(function(){var t=a(184);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),i(t)})),e.hot.dispose((function(){i()})),e.exports=o}}]);